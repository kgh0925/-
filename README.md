# 🚘 임베디드 시스템 - 대인 충돌 방지 자동차
### 목차
#### 1. 주제
#### 2. 전체적인 시스템 구조
#### 3. 구현
#### 4. 문제점 및 해결 방안
#### 5. 결과
#### 6. 사용 가이드
#### 7. 활용 방안
***
### 1. 주제
 교통사고가 발생하는 주요 원인에 급발진이라는 요소가 존재함. 시간이 갈수록 이 급발진으로 의심 되는 교통 사고가 자주 일어나고 있지만 사고의 원인을 파악해보면 급발진이 아닌 **기기 조작 미숙**, **전방 주시 태만** 등 다양한 원인이 존재하였다. 전방 주시 태만, 기기 조작 미숙 등 이러한 원인들로 인하여 발생하는 사고를 방지하기 위해 **대인 충돌 방지 자동차**를 주제로 선정하였다.
***
### 2. 전체적인 시스템 구조

***
### 3. 구현

***
### 4. 문제점 및 해결 방안
 문제가 없이 회로를 구현하고 회로에 맞게 기능까지 정상적으로 동작하는것을 예상하였지만 생각보다 많은 부분에서 문제가 발생하였고 사고가 발생하였음.
##### 4-1 [ 바퀴 기능의 문제 ]
 바퀴를 구현하는 과정에서 발생한 문제는 원래 DC모터에 크기가 큰 뚜껑을 결합하여 바퀴로 사용할 계획이였으나 차체의 무게도 견디지 못하고 헛돌기를 반복하여 기존 계획으로 진행할 수 없게 되었다. 이 문제를 해결하기 위해 **DC모터 드라이브 모듈**과 그에 맞는 새로운 DC모터를 사용하는 것으로 테스트를 진행 해보았는데 정상적으로 동작하여 이 방법으로 문제를 해결할 수 있었다.
##### 4-2 [ 사람 인식의 문제 ]
 사람을 인식하기 위해 Opencv를 계획하였지만 실제로 사용해본 결과 사람을 인식하는 과정이 라즈베리파이의 **카메라 모듈**보다 인식률이 좋지 않은 것을 확인하여 Opencv를 사용하지 않고 라즈베리파이의 카메라 모듈을 사용하는 것으로 계획을 변경하였다. 
##### 4-3 [ 회로 쇼트 ]
 DC모터를 구동하는 과정 중 모터의 출력값을 테스트하는 과정에서 값이 0~100으로 설정이 가능할 때 정상적으로 동작하는지 테스트하는 과정에서 **50을 초과하는 값**으로 여러 DC모터를 테스트하는 과정 중 DC모터 드라이버 모듈에 연기가 나며 회로가 타고 모듈이 쇼트가 나서 사용 불능이 되어버리는 사태가 발생하였다. 위 문제점으로 인해 시스템 모터의 최댓값을 제한할 수 있게 되었으며 쇼트난 드라이버 모듈은 사용이 불가능해졌지만 모듈을 추가적으로 준비해놨기에 진행에 문제는 없었다.
##### 4-4 [ 전력 문제 ]
 대인 충돌 방지 자동차를 다 만든 후 정상적으로 기능들이 동작하는지 테스트하는 과정에서 바퀴가 2개만 사용되는 좌회전, 우회전, 바퀴를 멈추는 정지는 정상적으로 동작하지만 바퀴를 4개 모두 사용하는 직진과 후진은 지상에서는 잘 가지 않는 현상이 있었다. 기능 자체의 문제일 수 있어 차체를 들고 직진, 후진의 기능을 사용해본 결과 바퀴가 정상적으로 움직이는 모습이 확인되는 것을 보고 바퀴에 전달되는 전력의 문제라는 것을 파악하고 보조전력을 공급하는 것으로 문제를 해결하기 위해 시도하였다. 바퀴에 보조전력을 연결한 결과 문제없이 지상에서 직진, 후진이 항상 잘 되는 모습은 아니지만 이전보다는 모든 기능들이 수월하게 동작하는 모습을 볼 수 있었다.
<div style="display: flex; gap: 30px;">
  <img src="images/바퀴1.jpg" width="450px" height="300px" title="바퀴 초기 모델" alt="바퀴 초기 모델">
  <img src="images/바퀴2.jpg" width="450px" height="300px" title="바퀴 문제점 해결 방법" alt="바퀴 문제점 해결 방법">
  <img src="images/바퀴모델.jpg" width="450px" height="300px" title="바퀴 수정 모델( NEW DC 모터 )" alt="바퀴 수정 모델">
  <img src="images/보조전력.jpg" width="450px" height="300px" title="보조 전력" alt="보조전력">
</div>
***
### 5. 결과

***
